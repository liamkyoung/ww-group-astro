---
import SocialIcon from "@/components/SocialIcon.astro";
import { instagramHandleToUrl } from "@/lib/instgramHandleToURL";

interface Props {
  email: string;
  phoneNumber: string;
  officeNumber?: string;
  linkedin?: string;
  facebook?: string;
  instagram?: string;
  bioHtml: string; // already pre-rendered via portableTextToHtml()
}

const {
  email,
  phoneNumber,
  officeNumber,
  linkedin,
  facebook,
  instagram,
  bioHtml,
} = Astro.props as Props;
---

<div class="bg-wwRed p-4 sm:p-8 lg:p-16 my-24">
  <div class="flex flex-col-reverse lg:flex-row gap-8">
    <!-- Left Column: Contact -->
    <div class="space-y-8 border-t-2 border-white lg:border-none pt-10 lg:pt-0">
      <h2 class="text-white text-center lg:text-left">Contact</h2>

      <div class="flex flex-col gap-4">
        {
          email && (
            <SocialIcon
              type="email"
              href={`mailto:${email}`}
              label={email}
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }

        {
          phoneNumber && (
            <SocialIcon
              type="phone"
              href={`tel:${phoneNumber}`}
              label={phoneNumber}
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }

        {
          officeNumber && (
            <SocialIcon
              type="phone"
              href={`tel:${officeNumber}`}
              label={`Office: ${officeNumber}`}
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }

        {
          linkedin && (
            <SocialIcon
              type="linkedin"
              href={linkedin}
              label="LinkedIn"
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }

        {
          instagram && (
            <SocialIcon
              type="instagram"
              href={instagramHandleToUrl(instagram)}
              label={instagram}
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }

        {
          facebook && (
            <SocialIcon
              type="facebook"
              href={facebook}
              label="Facebook"
              colorScheme="yellow"
              showLabel={true}
            />
          )
        }
      </div>
    </div>

    <!-- Right Column: Biography -->
    <div class="space-y-8">
      <h2 class="text-white text-center lg:text-left pl-0 sm:pl-10">
        Biography
      </h2>

      <div
        class="**:text-white lg:border-l-2 lg:border-white pl-0 sm:pl-10 text-center lg:text-left leading-loose text-white space-y-4"
        set:html={bioHtml}
      />
    </div>
  </div>
</div>
